<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NovaVPN</title>
  
  <!-- Google Sign-In Client ID -->
  <meta name="google-signin-client_id" content="1097594063034-s24vbe6ufen2pugu5o8d00for6tl3dus.apps.googleusercontent.com" />
  
  <link rel="stylesheet" href="css/popup.css" />
</head>
<body>
  <!-- Login Screen -->
  <div class="screen login-container" id="loginScreen">
      <div class="logo">NovaVPN</div>
      <div class="tagline">Secure. Fast. Reliable.</div>
      
      <form id="loginForm">
          <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" placeholder="Enter your email" required />
          </div>
          
          <div class="form-group">
              <label for="password">Password</label>
              <input type="password" id="password" placeholder="Enter your password" required />
          </div>
          
          <button type="submit" class="login-btn">Sign In</button>
      </form>

      <!-- Modern Google Sign-In Button -->
      <div id="googleSignInDiv" style="margin-top: 20px; display: flex; justify-content: center;"></div>
      
      <div class="signup-link">
          Don't have an account? <a href="#" id="signupLink">Sign Up</a>
      </div>
  </div>

  <!-- Sign Up Screen -->
  <div class="screen signup-container" id="signupScreen" style="display: none;">
      <div class="logo">NovaVPN</div>
      <div class="tagline">Create Your Account</div>
      
      <form id="signupForm">
          <div class="form-group">
              <label for="signupEmail">Email</label>
              <input type="email" id="signupEmail" placeholder="Enter your email" required />
          </div>
          
          <div class="form-group">
              <label for="signupPassword">Password</label>
              <input type="password" id="signupPassword" placeholder="Create password" required />
          </div>
          
          <div class="form-group">
              <label for="confirmPassword">Confirm Password</label>
              <input type="password" id="confirmPassword" placeholder="Confirm password" required />
          </div>
          
          <button type="submit" class="login-btn">Create Account</button>
      </form>
      
      <div class="signup-link">
          Already have an account? <a href="#" id="loginLink">Sign In</a>
      </div>
  </div>

  <!-- Main Dashboard -->
  <div class="screen main-container" id="mainScreen" style="display: none;">
      <div class="header">
          <div class="header-logo">NovaVPN</div>
          <button class="settings-btn" id="settingsBtn">‚öôÔ∏è</button>
      </div>

      <div class="connection-status">
          <div class="status-circle" id="statusCircle">
              <div class="status-icon">üîí</div>
              <div class="status-text" id="statusText">Disconnected</div>
          </div>
          
          <button class="connect-btn" id="connectBtn">
              <span id="connectIcon">‚ö°</span>
          </button>
      </div>

      <div class="server-section">
          <div class="section-title">Server Location</div>
          <div class="server-selector" id="serverSelector">
              <div class="server-info">
                  <div class="server-flag" id="selectedFlag">üá∫üá∏</div>
                  <div class="server-details">
                      <div class="server-name" id="selectedServer">United States</div>
                      <div class="server-latency" id="selectedLatency">12ms</div>
                  </div>
              </div>
              <div class="dropdown-arrow">‚ñº</div>
          </div>

          <div class="server-list" id="serverList"></div>
      </div>

      <div class="stats-section">
          <div class="stat-item">
              <div class="stat-value" id="currentIP">---.---.---.---</div>
              <div class="stat-label">Current IP</div>
          </div>
          <div class="stat-item">
              <div class="stat-value" id="dataUsed">0 MB</div>
              <div class="stat-label">Data Used</div>
          </div>
          <div class="stat-item">
              <div class="stat-value" id="uptime">00:00</div>
              <div class="stat-label">Uptime</div>
          </div>
      </div>
  </div>

  <!-- Settings Screen -->
  <div class="screen settings-container" id="settingsScreen" style="display: none;">
      <div class="settings-header">
          <button class="back-btn" id="backBtn">‚Üê</button>
          <div class="settings-title">Settings</div>
      </div>

      <div class="settings-group">
          <div class="settings-group-title">Security</div>
          
          <div class="setting-item">
              <div class="setting-label">Kill Switch</div>
              <label class="toggle-switch">
                  <input type="checkbox" id="killSwitch" />
                  <span class="toggle-slider"></span>
              </label>
          </div>
          
          <div class="setting-item">
              <div class="setting-label">WebRTC Protection</div>
              <label class="toggle-switch">
                  <input type="checkbox" id="webrtcProtection" checked />
                  <span class="toggle-slider"></span>
              </label>
          </div>
      </div>

      <div class="settings-group">
          <div class="settings-group-title">Connection</div>
          
          <div class="setting-item">
              <div class="setting-label">Auto-Connect</div>
              <label class="toggle-switch">
                  <input type="checkbox" id="autoConnect" />
                  <span class="toggle-slider"></span>
              </label>
          </div>
          
          <div class="setting-item">
              <div class="setting-label">Auto-Reconnect</div>
              <label class="toggle-switch">
                  <input type="checkbox" id="autoReconnect" checked />
                  <span class="toggle-slider"></span>
              </label>
          </div>
      </div>

      <div class="settings-group">
          <div class="settings-group-title">Account</div>
          
          <div class="setting-item">
              <div class="setting-label">Email</div>
              <div class="setting-value" id="userEmail">user@example.com</div>
          </div>
          
          <div class="setting-item">
              <div class="setting-label">Subscription</div>
              <div class="setting-value subscription-status">Premium</div>
          </div>
      </div>

      <button class="logout-btn" id="logoutBtn">Sign Out</button>
  </div>

  <script src="js/popup.js"></script>
  
  <!-- Google Identity Services -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <script>
    function handleCredentialResponse(response) {
      console.log("Encoded JWT ID token: " + response.credential);
      // TODO: Send this token to your backend for verification and user login/signup

      alert("Google sign-in successful!");
    }

    window.onload = function () {
      google.accounts.id.initialize({
        client_id: '1097594063034-s24vbe6ufen2pugu5o8d00for6tl3dus.apps.googleusercontent.com',
        callback: handleCredentialResponse,
      });

      google.accounts.id.renderButton(
        document.getElementById("googleSignInDiv"),
        { theme: "outline", size: "large", width: 250 }
      );

      // Optionally, prompt the One Tap dialog
      // google.accounts.id.prompt();
    };
  </script>
</body>
</html>
